---
function checkPage(name: string): string {
  const match = Astro.routePattern.match(`^\/[^\/]{0,}`);
  if (match == null) return ``;
  if (match[0] == name) return `selected`;
  return ``;
}

// TODO: mobile sidebar
---

<header>
  <div class="headerContent">
    <a class={checkPage(`/`)} href="/">
      home
    </a>
    <a class={checkPage(`/blog`)} href="/blog">
      blog
    </a>
    <a class={checkPage(`/portfolio`)} href="/portfolio">
      portfolio
    </a>
    <a class={checkPage(`/hardware`)} href="/hardware">
      hardware
    </a>
    <a class={checkPage(`/commissions`)} href="/commissions">
      commissions
    </a>
    <a class={checkPage(`/contact`)} href="/contact">
      contact
    </a>
  </div>
</header>

<style lang="scss">
  header {
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: var(--box-bg);
    width: 100vw;
    height: calc(var(--content-gap-large) + (var(--content-gap-small) * 2));
    padding: var(--content-gap-small);
    box-sizing: border-box;
    gap: var(--content-gap-small);

    .headerContent {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 100%;
      height: 100%;
      max-width: var(--content-width-large);

      a {
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100%;
        padding: 0 var(--content-gap-medium);

        &.selected {
          color: var(--box-bg);
          background-color: var(--trim);

          &:is(:hover, :focus-visible) {
            background-color: var(--trim-hover);
            text-decoration-color: var(--box-bg);
          }
        }
      }
    }
  }
</style>